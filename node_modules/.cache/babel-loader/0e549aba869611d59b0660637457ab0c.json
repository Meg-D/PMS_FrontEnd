{"ast":null,"code":"var _jsxFileName = \"/home/megd/Documents/sem3/sdp/PMS_FrontEnd/src/components/Customer/CustomerHistory.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Form, Label, Input, Button } from \"reactstrap\";\nimport { FormGroup } from \"reactstrap\";\nimport base_url from \"../../api/bootapi\";\nimport { Row, Col, Container } from 'reactstrap';\nimport Sale from \"../Sale/Sale\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Customerhistory = props => {\n  _s();\n\n  const [sales, setSales] = useState([]);\n  const [phone, setPhone] = useState('');\n\n  const getAllSales = phone => {\n    axios.get(`${base_url}/sale/getByCustomer/${phone}`).then(response => {\n      console.log(response.data);\n      setSales(response.data);\n      console.log(sales);\n\n      if (response.data == []) {\n        toast.error(\"Customer does not exists, add Customer and then Try Again!!\");\n      } else {\n        toast.success(\"Customer Fetched!!\", {\n          position: \"bottom-center\"\n        });\n      }\n    }, error => {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        for: \"customer\",\n        children: \"Phone Number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        type: \"Number\",\n        name: \"phone\",\n        id: \"customerPhone\",\n        onChange: e => {\n          setPhone(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"reset\",\n      onClick: () => {\n        console.log(phone);\n        getAllSales(phone);\n      },\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      style: {\n        marginTop: '3%'\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: sales.length > 0 ? sales.map(item => /*#__PURE__*/_jsxDEV(Col, {\n          sm: \"6\",\n          children: [/*#__PURE__*/_jsxDEV(Sale, {\n            sale: item,\n            user: item.user_id,\n            customer: item.cust_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }, this)) : \"No Sales\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 18\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Customerhistory, \"wzYS7UWA6PYvOn4f2R6PoHYjC+4=\");\n\n_c = Customerhistory;\nexport default Customerhistory;\n\nvar _c;\n\n$RefreshReg$(_c, \"Customerhistory\");","map":{"version":3,"sources":["/home/megd/Documents/sem3/sdp/PMS_FrontEnd/src/components/Customer/CustomerHistory.js"],"names":["axios","React","useState","Form","Label","Input","Button","FormGroup","base_url","Row","Col","Container","Sale","toast","Customerhistory","props","sales","setSales","phone","setPhone","getAllSales","get","then","response","console","log","data","error","success","position","e","target","value","marginTop","length","map","item","user_id","cust_id"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useState } from \"react\";\nimport { Form,Label,Input,Button } from \"reactstrap\";\nimport { FormGroup } from \"reactstrap\";\nimport base_url from \"../../api/bootapi\";\nimport { Row,Col,Container } from 'reactstrap';\nimport Sale\n from \"../Sale/Sale\";\n import { toast } from \"react-toastify\";\nconst Customerhistory=(props)=>{\n    const [sales,setSales] = useState([]);\n    const[phone,setPhone]=useState('');\n\n    const getAllSales=(phone)=>{\n        axios.get(`${base_url}/sale/getByCustomer/${phone}`).then(\n            (response)=>{\n                console.log(response.data);\n                setSales(response.data);\n                console.log(sales);\n                if(response.data==[]){\n                    toast.error(\"Customer does not exists, add Customer and then Try Again!!\")\n                }\n                else\n                {toast.success(\"Customer Fetched!!\",{\n                    position: \"bottom-center\",\n                })\n            }\n                \n            },\n            (error)=>{\n                console.log(error);\n            }\n        );\n    }\n\n\n    return(\n        <Form>\n            <FormGroup>\n                <Label for=\"customer\">Phone Number</Label>\n                <Input type=\"Number\" name=\"phone\" id=\"customerPhone\" onChange={(e)=>{\n                   setPhone(e.target.value);\n                }}/>\n            </FormGroup>\n            <Button type=\"reset\" onClick={()=>{\n                console.log(phone);\n                getAllSales(phone);\n            }}>Submit</Button>\n            \n            <Container fluid style={{marginTop:'3%'}}>\n                 <Row>\n                    {\n                        sales.length > 0\n                            ? sales.map((item) => \n                            <Col sm=\"6\">\n                                <Sale sale={item} user={item.user_id} customer={item.cust_id}/>\n                                <br/>\n                            </Col>\n                            )\n                            : \"No Sales\"\n                    }\n                  </Row> \n            </Container>  \n            <hr/>\n        </Form>\n    );\n}\nexport default Customerhistory;"]},"metadata":{},"sourceType":"module"}